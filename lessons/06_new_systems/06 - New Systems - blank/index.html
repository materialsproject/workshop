<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Lessons for the Materials Project Workshop"><link href=https://workshop.materialsproject.org/lessons/06_new_systems/06%20-%20New%20Systems%20-%20blank/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>06 New Systems blank - The Materials Project Workshop</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#546d78><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/workshop.css><link rel=stylesheet href=../../../css/ansi-colours.css><link rel=stylesheet href=../../../css/jupyter-cells.css><link rel=stylesheet href=../../../css/pandas-dataframe.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=blue-grey data-md-color-accent> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#exploring-new-alloy-systems-with-pymatgen class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="The Materials Project Workshop" class="md-header__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Materials Project Workshop </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 06 New Systems blank </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="The Materials Project Workshop" class="md-nav__button md-logo" aria-label="The Materials Project Workshop" data-md-component=logo> <img src=../../../assets/materials_project_logo_white.svg alt=logo> </a> The Materials Project Workshop </label> <div class=md-nav__source> <a href=https://github.com/materialsproject/workshop/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../../logistics/logistics/ class=md-nav__link> Logistics </a> </li> <li class=md-nav__item> <a href=../../../people/people/ class=md-nav__link> People </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> Code of Conduct </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Primer <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Primer data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Primer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../primer/01_basic_python/0%20-%20Introduction%20and%20Jupyter%20Use/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../../primer/01_basic_python/1%20-%20Python%20Primer/ class=md-nav__link> Basic Python </a> </li> <li class=md-nav__item> <a href=../../../primer/02_building_logic/2%20-%20Python%20Primer%20-%20Part%20II/ class=md-nav__link> Advanced Python </a> </li> <li class=md-nav__item> <a href=../../../primer/03_MongoDB_part1/lessons/ class=md-nav__link> Intro to MongoDB </a> </li> <li class=md-nav__item> <a href=../../../primer/04_MongoDB_part2/lesson/ class=md-nav__link> Advanced MongoDB </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Workshop <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Workshop data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Workshop </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_1 type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1> Day 1 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 1" data-md-level=2> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Day 1 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../01_website_walkthrough/website_walkthrough/ class=md-nav__link> The Materials Project Website </a> </li> <li class=md-nav__item> <a href=../../02_intro_pymatgen/1%20-%20pymatgen%20foundations/ class=md-nav__link> Intro to Pymatgen </a> </li> <li class=md-nav__item> <a href=../../03_surfaces/Working%20With%20Surfaces_lesson/ class=md-nav__link> Working with Surfaces </a> </li> <li class=md-nav__item> <a href=../../04_materials_api/api_use/ class=md-nav__link> The Materials API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2> Day 2 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Day 2" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Day 2 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../05_automated_dft/Lesson/ class=md-nav__link> Automated DFT </a> </li> <li class=md-nav__item> <a href=../06%20-%20New%20Systems%20-%20filled/ class=md-nav__link> Exploring New Systems </a> </li> <li class=md-nav__item> <a href=../../07_mpcontribs/contribute/ class=md-nav__link> MPContribs </a> </li> <li class=md-nav__item> <a href=../../08_ml_matminer/matminer-notes/ class=md-nav__link> Machine Learning with MatMiner </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#author-rachel-woods-robinson class=md-nav__link> Author: Rachel Woods-Robinson </a> </li> <li class=md-nav__item> <a href=#version-july-29-2020 class=md-nav__link> Version: July 29, 2020 </a> </li> <li class=md-nav__item> <a href=#outline class=md-nav__link> Outline </a> </li> <li class=md-nav__item> <a href=#1-select-a-test-case-system class=md-nav__link> 1. Select a test-case system </a> <nav class=md-nav aria-label="1. Select a test-case system"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-exercise-structure-and-mprester-refresher class=md-nav__link> 1.1 Exercise: Structure and MPRester refresher </a> <nav class=md-nav aria-label="1.1 Exercise: Structure and MPRester refresher"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#get-the-structure class=md-nav__link> Get the structure </a> </li> <li class=md-nav__item> <a href=#get-space-group-information class=md-nav__link> Get space group information </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12-lesson-add-oxidation-states-to-a-structure class=md-nav__link> 1.2 Lesson: add oxidation states to a Structure </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-select-an-alloy-partner class=md-nav__link> 2. Select an alloy partner </a> <nav class=md-nav aria-label="2. Select an alloy partner"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-lesson-find-possible-dopants class=md-nav__link> 2.1 Lesson: find possible dopants </a> </li> <li class=md-nav__item> <a href=#22-exercise-find-the-best-alloy-partner-a-for-axzn1-xs class=md-nav__link> 2.2 Exercise: find the best alloy partner (A = ?) for AxZn1-xS </a> <nav class=md-nav aria-label="2.2 Exercise: find the best alloy partner (A = ?) for AxZn1-xS"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#find-dopants class=md-nav__link> Find dopants </a> </li> <li class=md-nav__item> <a href=#query-for-end-point-structure class=md-nav__link> Query for end-point structure </a> </li> <li class=md-nav__item> <a href=#retrieve-end-point-structure class=md-nav__link> Retrieve end-point structure </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#23-lesson-explore-phase-diagrams class=md-nav__link> 2.3 Lesson: explore phase diagrams </a> <nav class=md-nav aria-label="2.3 Lesson: explore phase diagrams"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#conventional-phase-diagram class=md-nav__link> Conventional phase diagram </a> </li> <li class=md-nav__item> <a href=#contour-phase-diagram class=md-nav__link> Contour phase diagram </a> </li> <li class=md-nav__item> <a href=#binary-phase-diagram class=md-nav__link> Binary phase diagram </a> </li> <li class=md-nav__item> <a href=#mapping-out-chemical-potential-of-cations class=md-nav__link> Mapping out chemical potential of cations </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3-transform-to-make-a-new-cuxzn1-xs-alloy class=md-nav__link> 3. Transform to make a new CuxZn1-xS alloy </a> <nav class=md-nav aria-label="3. Transform to make a new CuxZn1-xS alloy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-lesson-structure-transformation class=md-nav__link> 3.1 Lesson: structure transformation </a> <nav class=md-nav aria-label="3.1 Lesson: structure transformation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#substitute-your-dopant-to-create-a-disordered-structure class=md-nav__link> Substitute your dopant to create a disordered structure </a> </li> <li class=md-nav__item> <a href=#transform-structure class=md-nav__link> Transform structure </a> </li> <li class=md-nav__item> <a href=#make-a-supercell class=md-nav__link> Make a supercell </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#32-exercise-try-your-own-transformation-on-cuzns2 class=md-nav__link> 3.2 Exercise: try your own transformation on CuZnS2 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4-calculate-new-properties class=md-nav__link> 4. Calculate new properties </a> <nav class=md-nav aria-label="4. Calculate new properties"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#41-lesson-volume-prediction-and-xrd-plot class=md-nav__link> 4.1 Lesson: volume prediction and XRD plot </a> <nav class=md-nav aria-label="4.1 Lesson: volume prediction and XRD plot"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#calculate-xrd-compare-to-original-structure class=md-nav__link> Calculate XRD, compare to original structure </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#42-exercise-try-this-on-your-cuzns2-structure class=md-nav__link> 4.2 Exercise: try this on your CuZnS2 structure </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5-test-your-skills class=md-nav__link> 5. Test your skills </a> <nav class=md-nav aria-label="5. Test your skills"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#51-exercise-compare-relaxed-dft-structures-to-estimates class=md-nav__link> 5.1 Exercise: compare relaxed DFT structures to estimates </a> <nav class=md-nav aria-label="5.1 Exercise: compare relaxed DFT structures to estimates"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-do-these-space-groups-compare-to-our-estimates class=md-nav__link> How do these space groups compare to our estimates? </a> </li> <li class=md-nav__item> <a href=#add-in-dft-structure-to-xrd class=md-nav__link> Add in DFT structure to XRD </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#52-lesson-add-computed-entries-to-phase-diagram class=md-nav__link> 5.2 Lesson: add computed entries to phase diagram </a> <nav class=md-nav aria-label="5.2 Lesson: add computed entries to phase diagram"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#conventional-phase-diagram_1 class=md-nav__link> Conventional phase diagram </a> </li> <li class=md-nav__item> <a href=#contour-phase-diagram_1 class=md-nav__link> Contour phase diagram </a> </li> <li class=md-nav__item> <a href=#binary-phase-diagram_1 class=md-nav__link> Binary phase diagram </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#53-next-steps class=md-nav__link> 5.3 Next steps </a> </li> <li class=md-nav__item> <a href=#thank-you-feel-free-to-reach-me-at-rwoodsrobinsonlblgov-if-you-have-any-questions-about-this-lesson class=md-nav__link> Thank you! Feel free to reach me at rwoodsrobinson@lbl.gov if you have any questions about this lesson. </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href="https://github.com/materialsproject/workshop/edit/master/docs/lessons/06_new_systems/06 - New Systems - blank.ipynb" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <script src=https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js></script> <script>
(function() {
  function addWidgetsRenderer() {
    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var scriptElement = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    scriptElement.src = widgetRendererSrc;
    document.body.appendChild(scriptElement);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h1 id=exploring-new-alloy-systems-with-pymatgen>Exploring New Alloy Systems with Pymatgen<a class=headerlink href=#exploring-new-alloy-systems-with-pymatgen title="Permanent link">&para;</a></h1> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=author-rachel-woods-robinson>Author: Rachel Woods-Robinson<a class=headerlink href=#author-rachel-woods-robinson title="Permanent link">&para;</a></h4> <h4 id=version-july-29-2020>Version: July 29, 2020<a class=headerlink href=#version-july-29-2020 title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img src=assets/goals.png style=max-width:50%></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=outline>Outline<a class=headerlink href=#outline title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <ol> <li>Select a test-case system<ul> <li>1.1 Exercise: <code>Structure</code> and <code>MPRester</code> refresher</li> <li>1.2 Lesson: add oxidation states to a <code>Structure</code></li> </ul> </li> <li>Select an alloy partner<ul> <li>2.1 Lesson: find possible dopants</li> <li>2.2 Exercise: find the best alloy partner (A = ?) for A<sub>x</sub>Zn<sub>1-x</sub>S</li> <li>2.3 Lesson: explore phase diagrams</li> </ul> </li> <li>Transform to make a new Cu<sub>x</sub>Zn<sub>1-x</sub>S alloy<ul> <li>3.1 Lesson: structure transformation</li> <li>3.2 Exercise: try your own transformation on CuZnS<sub>2</sub></li> </ul> </li> <li>Calculate new properties<ul> <li>4.1 Lesson: volume prediction and XRD plot</li> <li>4.2 Exercise: try this on your CuZnS<sub>2</sub> structure</li> </ul> </li> <li>Test your skills<ul> <li>5.1 Exercise: compare relaxed DFT structures to estimates</li> <li>5.2 Lesson: add computed entries to phase diagram</li> <li>5.3 Next steps</li> </ul> </li> </ol> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=1-select-a-test-case-system>1. Select a test-case system<a class=headerlink href=#1-select-a-test-case-system title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><strong><em>In this notebook we will focus on cubic zinc-blende ZnS, a wide band gap (transparent) semiconductor. In my PhD research I study p-type transparent semiconductors, so I will pose the question: how can we use ZnS as a starting point to create a p-type transparent semiconductor, and how can pymatgen help with this?</em></strong></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Import the <code>MPRester</code> API:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>The Materials ID (mp-id) of zinc-blende ZnS is mp-10695, see https://materialsproject.org/materials/mp-10695/.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=11-exercise-structure-and-mprester-refresher>1.1 Exercise: <code>Structure</code> and <code>MPRester</code> refresher<a class=headerlink href=#11-exercise-structure-and-mprester-refresher title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=get-the-structure>Get the structure<a class=headerlink href=#get-the-structure title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1>#### if you&#39;re having problems with your internet or API key:</span>

<span class=c1># from monty.serialization import loadfn</span>
<span class=c1># ZnS_structure = loadfn(&quot;assets/ZnS_structure.json&quot;)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=get-space-group-information>Get space group information<a class=headerlink href=#get-space-group-information title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>If you want to, try it out on our web app <a href=https://materialsproject.org/#apps/xtaltoolkit/%7B%22input%22%3A0%2C%22materialIDs%22%3A%22mp-10695%22%7D>here</a>.</p> <ul> <li>Click "Draw atoms outside unit cell bonded to atoms within unit cell"</li> <li>Play around with it!</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img src=assets/ZnS_F-43m_MP.png style=max-width:50%></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=12-lesson-add-oxidation-states-to-a-structure>1.2 Lesson: add oxidation states to a <code>Structure</code><a class=headerlink href=#12-lesson-add-oxidation-states-to-a-structure title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Pymatgen has a simple transformation to estimate the likely oxidation state of each specie in stoichiometric compounds using a bond-valence analysis approach. This information is needed to compare ionic radii and assess substitutional dopant probability. You can also enter the oxidation states manually if you'd prefer.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Initialize this transformation:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=2-select-an-alloy-partner>2. Select an alloy partner<a class=headerlink href=#2-select-an-alloy-partner title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=21-lesson-find-possible-dopants>2.1 Lesson: find possible dopants<a class=headerlink href=#21-lesson-find-possible-dopants title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><strong><em>Scientific question: Which p-type dopants are most likely to sit at substitutional sites in ZnS?</em></strong></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Pymatgen has a machine-learned method for estimating the probability that one ion will substitute for another (<a href=https://doi.org/10.1021/ic102031h>Hautier et al. 2011</a>), and reports the results ranked in order of probability. Note the input structure has to be "decorated" with oxidation states for this method to work.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Here are some options to dope ZnS p-type:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can see this returns a list of dictionaries:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>To make this easier to read we can use the <code>pandas</code> package:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=22-exercise-find-the-best-alloy-partner-a-for-axzn1-xs>2.2 Exercise: find the best alloy partner (A = ?) for A<sub>x</sub>Zn<sub>1-x</sub>S<a class=headerlink href=#22-exercise-find-the-best-alloy-partner-a-for-axzn1-xs title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><strong><em>Scientific question: is a p-type zinc-blende A<sub>x</sub>Zn<sub>1-x</sub>S alloy possible?</em></strong></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Let's see if zinc-blende binaries exist for these ternaries, and how far off the hull they sit.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=find-dopants>Find dopants<a class=headerlink href=#find-dopants title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>First, find a list of possible cation dopant elements:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># I&#39;ve pre-written this code block for convenience</span>
<span class=c1># all it does is take the possible dopants list given previously, takes the cations, and makes a list of their elements</span>
<span class=n>possible_cation_dopants</span> <span class=o>=</span> <span class=p>[]</span>
<span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>p_dopants</span><span class=p>:</span>
    <span class=n>specie</span> <span class=o>=</span> <span class=n>x</span><span class=p>[</span><span class=s2>&quot;dopant_species&quot;</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>specie</span><span class=o>.</span><span class=n>oxi_state</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=n>possible_cation_dopants</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>specie</span><span class=o>.</span><span class=n>element</span><span class=p>))</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>possible_cation_dopants</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Next, let's query the <code>MPRester</code> to make a table of all of the binary compounds with a space group <code>"F-43m"</code> that contain sulfur and one of these <code>possible_cation_dopants</code>. Note that the query criteria are listed on the <a href=https://github.com/materialsproject/mapidoc/tree/master/materials>mapidoc</a>.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=query-for-end-point-structure>Query for end-point structure<a class=headerlink href=#query-for-end-point-structure title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># the query criteria</span>

<span class=n>criteria</span> <span class=o>=</span> <span class=p>{</span>
    <span class=n>_____</span> <span class=p>:</span> <span class=p>{</span> <span class=c1># criteria for elements</span>
        <span class=s2>&quot;$all&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;S&quot;</span><span class=p>],</span> <span class=c1># we require S is present</span>
        <span class=s2>&quot;$in&quot;</span><span class=p>:</span> <span class=n>______</span> <span class=c1># possible dopants</span>
    <span class=p>},</span>
    <span class=s2>&quot;nelements&quot;</span><span class=p>:</span> <span class=n>_____</span><span class=p>,</span>  <span class=c1># desired number of elements</span>
    <span class=s2>&quot;spacegroup.symbol&quot;</span><span class=p>:</span> <span class=n>_____</span> <span class=c1># desired spacegroup symbol</span>
<span class=p>}</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We want to return five properties: the spacegroup (<code>spacegroup.symbol</code>, which I've filled out), <code>task_id</code>, as well as energy above hull, formula, and whether the compound is experimental or theoretical. Refer to <a href=https://github.com/materialsproject/mapidoc/tree/master/materials>mapidoc</a>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># the properties we want to return</span>

<span class=n>properties</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=s2>&quot;spacegroup.symbol&quot;</span>
<span class=p>]</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1># type your query in here:</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1>#### if you&#39;re having problems with your internet or API key, or want to check your results</span>

<span class=c1># from monty.serialization import loadfn</span>
<span class=c1># query = loadfn(&quot;assets/alloy_partner_query.json&quot;)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Tabulate results as a <code>DataFrame</code></p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>_____</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Which alloy partner compound seems most reasonable? Thus, which cation should we pick? _____</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=retrieve-end-point-structure>Retrieve end-point structure<a class=headerlink href=#retrieve-end-point-structure title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>To proceed, we have to retrieve the <code>Structure</code> for your selected alloy partner:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Yep! Weâ€™re not done, but this is a good starting point for dopants to investigate with further defect calculations. This can be accomplished using workflows from packages like <a href=https://doi.org/10.1016/j.cpc.2018.01.004>PyCDT (Broberg et al. 2018)</a> which integrate with <code>pymatgen</code>'s defect capabilities.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=23-lesson-explore-phase-diagrams>2.3 Lesson: explore phase diagrams<a class=headerlink href=#23-lesson-explore-phase-diagrams title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><strong><em>Scientific question: what does Cu-Zn-S phase space look like?</em></strong></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>There are many built-in tools to explore phase diagrams in <code>pymatgen</code>. To build a phase diagram, you must define a set of <code>ComputedEntries</code> with compositions, formation energies, corrections, and other calculation details.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can import entries in this system using the <code>MPRester</code>. This gives a list of all of the <code>ComputedEntries</code> on the database:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=c1>#### if you&#39;re having problems with your internet or API key:</span>

<span class=c1># from monty.serialization import loadfn</span>
<span class=c1># entries = loadfn(&quot;assets/Cu-Zn-S_entries.json&quot;)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=conventional-phase-diagram>Conventional phase diagram<a class=headerlink href=#conventional-phase-diagram title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=contour-phase-diagram>Contour phase diagram<a class=headerlink href=#contour-phase-diagram title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=binary-phase-diagram>Binary phase diagram<a class=headerlink href=#binary-phase-diagram title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Let's zoom in on the tie-line between ZnS and CuS, which is where we are interested in alloying.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=mapping-out-chemical-potential-of-cations>Mapping out chemical potential of cations<a class=headerlink href=#mapping-out-chemical-potential-of-cations title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>This may be a useful tool to think about tuning chemical potential for synthesis.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>There are a lot of different types of phase diagrams (see the <a href=https://pymatgen.org/pymatgen.analysis.phase_diagram.html><code>pymatgen.analysis.phase_diagram</code> module</a>).</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Our key takeaway is that in MP, the Cu-Zn-S ternary space is EMPTY!! So let's fill it in...</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=3-transform-to-make-a-new-cuxzn1-xs-alloy>3. Transform to make a new Cu<sub>x</sub>Zn<sub>1-x</sub>S alloy<a class=headerlink href=#3-transform-to-make-a-new-cuxzn1-xs-alloy title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=31-lesson-structure-transformation>3.1 Lesson: structure transformation<a class=headerlink href=#31-lesson-structure-transformation title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=substitute-your-dopant-to-create-a-disordered-structure>Substitute your dopant to create a disordered structure<a class=headerlink href=#substitute-your-dopant-to-create-a-disordered-structure title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now, so let's substitute 1/4 of the Zn<sup>2+</sup> with Cu<sup>+</sup> ions (note: we will be ignoring charge compensation here, but this is important to take into account in real calculations!). That is, let's set substitutional fraction <code>x = 1/4</code> in Cu<sub>x</sub>Zn<sub>1-x</sub>S. Doing so using <code>Structure.replace_species()</code> will create a <strong><em>disordered structure object</em></strong>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can print the integer formula of this composition:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Let's rename this structure with its chemical formula to avoid confusion later on:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Here's a screenshot of the CuZn<sub>3</sub>S<sub>4</sub> disordered structure, where each cation site has partial occupancy of a Zn and Cu atom. </p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img src=assets/CuZn3S4_disordered.png style=max-width:50%></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=transform-structure>Transform structure<a class=headerlink href=#transform-structure title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Though disorder may indeed be more representative of a real crystal structure, we need to convert this to an ordered structure to perform DFT calculations. This is because DFT can only perform simulations on whole atoms, not fractional atoms!</p> <p>Pymatgen supports a variety of structural "transformations" (a list of supported transformations is available <a href=https://pymatgen.org/pymatgen.transformations.html>here</a>). Here are three methods from the <code>pymatgen.transformations.advanced_transformations</code> module to take a disordered structure, and order it:</p> <ol> <li><code>OrderDisorderStructureTransformation</code>: a highly simplified method to create an ordered supercell ranked by Ewald sums.</li> <li><code>EnumerateStructureTransformation</code>: a method to order a disordered structure that requires <a href=https://github.com/msg-byu/enumlib>the <code>enumlib</code> code</a> to also be installed.</li> <li><code>SQSTransformation</code>: a method that requires the <a href=https://doi.org/10.1016/j.calphad.2013.06.006><code>ATAT</code> code (Van de Walle et al. 2013)</a> to be installed that creates a special quasirandom structure (SQS) from a structure with partial occupancies.</li> </ol> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>For this demo, we'll be focusing on the most simple transformation: <code>OrderDisorderStructureTransformation</code></p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We have to be careful though!! If we just apply this transformation, it doesn't fail, but it returns a structure where all the Cu<sup>+</sup> is gone! <code>OrderDisorderedStructureTransformation</code> will round up or down if the cell is not large enough to account for <code>x</code>. Thus, we need to first make a supercell and then apply the transformation.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=make-a-supercell>Make a supercell<a class=headerlink href=#make-a-supercell title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>With this transformation, we have to first create a disordered <strong><em>supercell</em></strong> to transform into. A supercell is just a structure that is scaled by a matrix so that it repeats several times. Here, the supercell must be large enough such that the composition in question can be achieved.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Let's scale the structure by 8x. I like to use the <code>numpy</code> package to construct scaling matrices here (a 4x supercell would be sufficient for <code>x = 1/4</code>, but this leaves room to try e.g. <code>x = 1/8</code>):</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can see that this would scale the cell's volume by 8, but to verify:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>For convenience, you can also simply use <code>scaling_matrix = 2</code> if you're scaling the same in all directions, or <code>scaling_matrix = [2, 2, 2]</code>. These are the same in practice.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>This is a list of ten ordered structures ranked by <strong><em>Ewald sum</em></strong> (dict key <code>"energy"</code>). Note that this does NOT correlate with the lowest energy structure! Let's just use the first entry for our example:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>If you want to download this file:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>BOOM! Now we have an alloy structure!! To view this structure you can upload your "CuZn3S4_ordered_structure.cif" file on <a href=https://materialsproject.org/#apps/xtaltoolkit>Crystal Toolkit</a>.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img src=assets/Zn3CuS4_P-43m_estimate.png style=max-width:50%></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=32-exercise-try-your-own-transformation-on-cuzns2>3.2 Exercise: try your own transformation on CuZnS<sub>2</sub><a class=headerlink href=#32-exercise-try-your-own-transformation-on-cuzns2 title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Set a new composition, <code>x = 1/2</code> (simpler fractions are easier in DFT calculations because supercells can be smaller!). This will yield a structure with composition CuZnS<sub>2</sub>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>x_CuZnS2</span> <span class=o>=</span> 
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>CuZnS2_disordered</span> <span class=o>=</span> <span class=n>ZnS_structure_oxi</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<span class=n>CuZnS2_disordered</span><span class=o>.</span><span class=n>_____</span><span class=p>(</span>
    <span class=p>{</span>
        <span class=s2>&quot;Zn2+&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=n>_____</span><span class=p>:</span> <span class=n>_____</span><span class=p>,</span>
            <span class=n>_____</span><span class=p>:</span> <span class=n>_____</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Reminder: for more complex fractions (e.g. <code>x = 1/16</code>), supercells need to be scaled accordingly!</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>scaling_matrix</span> <span class=o>=</span> <span class=n>_____</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>CuZnS2_disordered_supercell</span> <span class=o>=</span> 
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>CuZnS2_ordered_structures</span> <span class=o>=</span> <span class=n>odst</span><span class=o>.</span><span class=n>apply_transformation</span><span class=p>(</span><span class=n>_____</span><span class=p>,</span>
                                             <span class=n>return_ranked_list</span> <span class=o>=</span> <span class=n>_____</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Pick one:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>CuZnS2_ordered_structure</span> <span class=o>=</span> <span class=n>_____</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>CuZnS2_ordered_structure</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Check that this is the composition you expect:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>And check the space group:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Is it the same as ZnS?</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=4-calculate-new-properties>4. Calculate new properties<a class=headerlink href=#4-calculate-new-properties title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=41-lesson-volume-prediction-and-xrd-plot>4.1 Lesson: volume prediction and XRD plot<a class=headerlink href=#41-lesson-volume-prediction-and-xrd-plot title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>So far we just have a really rough guess of an alloy structure, and the lattice parameters are still equal to those of ZnS. We can estimate the new volume <span class=arithmatex>\(V_{x-guess}\)</span> after the substitution using Vegard's Law (assuming zero bowing).</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>$V_{x-estimate} = V_{scaling } \times [ V_{CuS}(x) + V_{ZnS}(1-x) ] $</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>$V_{CuZn_3S_4-estimate} = 8 \times [ V_{CuS}(0.25) + V_{ZnS}(0.75) ] $</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>This is better but still wrong, and does not take into account any structural distortions. Note that there are some other methods on pymatgen to guess structure volume (see <code>pymatgen.analysis.structure_prediction.volume_predictor</code>), but in my experience Vegard's law is usually just as helpful. Your next step would be to relax this new structure using DFT or another method (see below).</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=calculate-xrd-compare-to-original-structure>Calculate XRD, compare to original structure<a class=headerlink href=#calculate-xrd-compare-to-original-structure title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Now we can compare this structure to our original ZnS and CuS structure to, for example, see how the <strong><em>X-ray diffraction (XRD)</em></strong> patterns are expected to shift as <code>x</code> increases in Cu<sub>x</sub>Zn<sub>1-x</sub>S:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Initialize the <code>XRDCalculator</code> with the conventional Cu-K<span class=arithmatex>\(\alpha\)</span> wavelength (note: Cu here has nothing to do with the Cu we're adding to the structure):</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>You can see how the <span class=arithmatex>\(2\theta\)</span> peaks shift slightly to the right with addition of Cu!</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=42-exercise-try-this-on-your-cuzns2-structure>4.2 Exercise: try this on your CuZnS<sub>2</sub> structure<a class=headerlink href=#42-exercise-try-this-on-your-cuzns2-structure title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Guess the structure volume using Vegard's Law, and correct for this:</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>$V_{x-estimate} = V_{scaling } \times [ V_{CuS}(?) + V_{ZnS}(?) ] $</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>x_CuZnS2</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>scaling_volume</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>CuZnS2_structure_estimate</span> <span class=o>=</span> <span class=n>CuZnS2_ordered_structure</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<span class=n>CuZnS2_structure_estimate</span><span class=o>.</span><span class=n>scale_lattice</span><span class=p>(</span><span class=n>_____</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Print the new structure</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=nb>print</span><span class=p>(</span><span class=n>CuZnS2_structure_estimate</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Add this structure to the series of XRD plots to compare XRD for <code>x = 0, 0.25, 0.5, 1</code>:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>structures</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>ZnS_structure</span><span class=p>,</span> 
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>_____</span>
<span class=p>]</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>xrd_plots</span> <span class=o>=</span> <span class=n>xrd</span><span class=o>.</span><span class=n>plot_structures</span><span class=p>(</span><span class=n>_____</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h2 id=5-test-your-skills>5. Test your skills<a class=headerlink href=#5-test-your-skills title="Permanent link">&para;</a></h2> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>This is the wee beginning of making an alloy. Here are some follow-up steps:</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><img src=assets/next_steps.png style=max-width:60%></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>I constructed similar alloys to those that we just explored, at <code>x = 1/4</code> and <code>x = 1/2</code>, and relaxed them with DFT. We'll explore my results here:</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=51-exercise-compare-relaxed-dft-structures-to-estimates>5.1 Exercise: compare relaxed DFT structures to estimates<a class=headerlink href=#51-exercise-compare-relaxed-dft-structures-to-estimates title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>pymatgen</span> <span class=kn>import</span> <span class=n>Structure</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>These are my output .cif files from one of our DFT workflows. See <code>fireworks</code> and <code>atomate</code> packages for details <a href=https://atomate.org/atomate.vasp.fireworks.html>here</a>.</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>CuZn3S4_relaxed</span> <span class=o>=</span> <span class=n>Structure</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&quot;assets/Zn3CuS4_Amm2.cif&quot;</span><span class=p>)</span>
<span class=n>CuZnS2_relaxed</span> <span class=o>=</span> <span class=n>Structure</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=s2>&quot;assets/ZnCuS2_R3m.cif&quot;</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=how-do-these-space-groups-compare-to-our-estimates>How do these space groups compare to our estimates?<a class=headerlink href=#how-do-these-space-groups-compare-to-our-estimates title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Are they higher or lower in symmetry? After relaxation, both structures are in a different space group (lower symmetry) than the alloys we just made. This is likely due to structural distortions.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=add-in-dft-structure-to-xrd>Add in DFT structure to XRD<a class=headerlink href=#add-in-dft-structure-to-xrd title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Replace the alloy structures in the previous XRD exercise with the two relaxed alloy structures, again comparing XRD for <code>x = 0, 0.25, 0.5, 1</code>:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>structures</span> <span class=o>=</span> <span class=p>[</span>
    <span class=n>ZnS_structure</span><span class=p>,</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>_____</span><span class=p>,</span>
    <span class=n>CuS_structure</span>
 <span class=p>]</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code><span class=n>xrd_plots</span> <span class=o>=</span> <span class=n>xrd</span><span class=o>.</span><span class=n>plot_structures</span><span class=p>(</span><span class=n>_____</span>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Peak splittings are now present in the diffraction patterns, and the shift to higher <span class=arithmatex>\(2\theta\)</span> is not as significant.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=52-lesson-add-computed-entries-to-phase-diagram>5.2 Lesson: add computed entries to phase diagram<a class=headerlink href=#52-lesson-add-computed-entries-to-phase-diagram title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p><strong><em>Scientific question: are these new phases stable?</em></strong></p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>To assess the stability of these new phases, let's look at JSON files containing <code>ComputedEntry</code> data:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>These entries were created by relaxing the above structure using one of our DFT workflows. An "entry" is mainly just a composition and an energy, so can be created manually, without performing a calculation, or even from experimental data</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We can add these two entries to <code>entries</code>, our set of <code>ComputedEntry</code> data from MP in the Cu-Zn-S phase space:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=conventional-phase-diagram_1>Conventional phase diagram<a class=headerlink href=#conventional-phase-diagram_1 title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>We see our two new phases show up here! How does the energy landscape change?</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=contour-phase-diagram_1>Contour phase diagram<a class=headerlink href=#contour-phase-diagram_1 title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Compare to the phase diagram before new phases were added:</p> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h4 id=binary-phase-diagram_1>Binary phase diagram<a class=headerlink href=#binary-phase-diagram_1 title="Permanent link">&para;</a></h4> </div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing code_cell rendered"> <div class=input> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Because these phases break the binary hull, this shows that there is likely a stable phase of CuZnS<sub>2</sub>, though this may not be the lowest energy phase. Zn<sub>3</sub>CuS<sub>4</sub> is highly metastable.</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=53-next-steps>5.3 Next steps<a class=headerlink href=#53-next-steps title="Permanent link">&para;</a></h3> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <p>Here are some follow-up calculations you can do to explore ternary space:</p> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <ul> <li><strong><em>Structure Prediction</em></strong>: To explore other possibilities of polymorphs in Cu-Zn-S ternary space, one could perform a "structure prediction" in this chemical space. You can use the Materials Project website's <a href=https://materialsproject.org/#apps/structurepredictor>Structure Prediction app</a>. There are also methods in <code>pymatgen.analysis.structure_prediction</code> to do this.</li> <li><strong><em>DFT Calculations</em></strong>: You can submit your structure(s) to MP by loading it with the <a href=https://materialsproject.org/#apps/crystaltoolkit>Crystal Toolkit app</a> and clicking "Submit to Materials Project". You can use <code>fireworks</code> and <code>atomate</code> to submit DFT calculations yourself to relax the structure, refine it, calculate band structure, and other properties.</li> <li><strong><em>Local Environment Analysis</em></strong>: With your relaxed structures, you can upload your structure to the <a href=https://materialsproject.org/#apps/crystaltoolkit>Crystal Toolkit app</a> and look at "Analyze: Local Environments" to compare coordination environments. You can also explore the features in <code>pymatgen.analysis.local_env</code>.</li> <li><strong><em>Substrate Matcher</em></strong>: If you want to grow this alloy structure epitaxially, you can explore different substrates to use on the website using methods in <code>pymatgen.analysis.substrate_analyzer module</code>.</li> </ul> </div> </div> </div> <div class="cell border-box-sizing text_cell rendered"> <div class=inner_cell> <div class="text_cell_render border-box-sizing rendered_html"> <h3 id=thank-you-feel-free-to-reach-me-at-rwoodsrobinsonlblgov-if-you-have-any-questions-about-this-lesson>Thank you! Feel free to reach me at rwoodsrobinson@lbl.gov if you have any questions about this lesson.<a class=headerlink href=#thank-you-feel-free-to-reach-me-at-rwoodsrobinsonlblgov-if-you-have-any-questions-about-this-lesson title="Permanent link">&para;</a></h3> </div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Built by The Materials Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["instant", "tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.76f349be.min.js></script> <script src=../../../assets/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>